CMAKE_MINIMUM_REQUIRED( VERSION 3.12 )

PROJECT( scrcapi VERSION 0.1.0 LANGUAGES CXX )

INCLUDE( ExternalProject )

SET( CMAKE_CXX_STANDARD 17 )
SET( CMAKE_CXX_STANDARD_REQUIRED ON )

SET( SCRCAPI_INCLUDE_DIRS ${CMAKE_SOURCE_DIR}/include )

INCLUDE( external/curl.cmake )
INCLUDE( external/yaml_cpp.cmake )
INCLUDE( external/jsoncpp.cmake )
INCLUDE( external/semver.cmake )

ADD_SUBDIRECTORY( src )

IF(CMAKE_BUILD_TYPE STREQUAL "Debug")
    INCLUDE( CTest )
    ADD_SUBDIRECTORY( test )
ENDIF()
